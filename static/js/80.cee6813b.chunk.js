"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[80],{80:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var a=r(861),n=r(439),s=r(757),o=r.n(s),c=r(243),i=r(791),l=r(87),u=r(689),m="MoviesPage_form__O1Xyl",f="MoviesPage_input__tuxv0",h="MoviesPage_button__search__vMmG6",v="MoviesPage_link__E85WN",p="MoviesPage_item__sQVxl",d=r(184);function _(){var e,t,r=(0,l.lr)("q"),s=(0,n.Z)(r,2),_=s[0],g=s[1],x=(0,i.useState)(null!==(e=JSON.parse(window.localStorage.getItem("films")))&&void 0!==e?e:[]),b=(0,n.Z)(x,2),k=b[0],w=b[1],y=null!==(t=_.get("q"))&&void 0!==t?t:"",N=(0,u.TH)(),S=function(){var e=(0,a.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/search/movie",e.prev=1,e.next=4,c.Z.get("".concat("https://api.themoviedb.org/3/search/movie","?api_key=9dc8cf1c3b797577de272ea272eaf078&query=").concat(t));case 4:return r=e.sent,w(r.data.results),0===r.data.results.length&&alert("Sorry, there are no films for your request"),localStorage.setItem("films",JSON.stringify(r.data.results)),e.abrupt("return",k);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,d.jsxs)("div",{children:[(0,d.jsxs)("form",{className:m,onSubmit:function(e){e.preventDefault(),""===e.target.value&&alert("Enter a word for search"),S(y)},children:[(0,d.jsx)("input",{className:f,type:"text",onChange:function(e){if(""===e.target.value)return g({});g({q:e.target.value})},value:y}),(0,d.jsx)("button",{className:h,type:"submit",children:"Search"})]}),(0,d.jsx)("ul",{children:k.map((function(e){return(0,d.jsx)("li",{className:p,children:(0,d.jsxs)(l.rU,{className:v,to:"".concat(e.id),state:N,children:[e.name,e.title]})},e.id)}))})]})}}}]);
//# sourceMappingURL=80.cee6813b.chunk.js.map